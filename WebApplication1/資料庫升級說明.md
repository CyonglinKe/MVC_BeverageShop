# ğŸ“š è³‡æ–™åº«å‡ç´šèªªæ˜

## ğŸ¯ ç•¶å‰æ¶æ§‹å„ªå‹¢

æ‚¨çš„å°ˆæ¡ˆå·²ç¶“ä½¿ç”¨äº†**æœ€ä½³å¯¦è¸**çš„æ¶æ§‹è¨­è¨ˆï¼š

### æ¶æ§‹å±¤æ¬¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   View (Razor)              â”‚  â† é¡¯ç¤ºå±¤ï¼ˆå·²ç¶“å®Œæˆï¼‰
â”‚   Views/Menu/Index.cshtml   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Controller                â”‚  â† æ§åˆ¶å±¤ï¼ˆå·²ç¶“å®Œæˆï¼‰
â”‚   MenuController.cs         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Service Interface         â”‚  â† æœå‹™ä»‹é¢ï¼ˆå·²ç¶“å®Œæˆï¼‰
â”‚   IDrinkService             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚           â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mock   â”‚  â”‚  Database       â”‚  â† å¯¦ä½œå±¤
â”‚ Service â”‚  â”‚  Service        â”‚     å·¦é‚Šï¼šç›®å‰ä½¿ç”¨ï¼ˆå‡è³‡æ–™ï¼‰
â”‚ (ç¾åœ¨)  â”‚  â”‚  (æœªä¾†)         â”‚     å³é‚Šï¼šæœªä¾†ä½¿ç”¨ï¼ˆçœŸè³‡æ–™åº«ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… ç‚ºä»€éº¼ç¾åœ¨çš„å¯«æ³•æ˜¯æ­£ç¢ºçš„

### 1. View å±¤ä½¿ç”¨ Razorï¼ˆä¼ºæœå™¨ç«¯æ¸²æŸ“ï¼‰
```cshtml
@foreach (var drink in Model.AllDrinks)
{
    <div class="drink-item">
        <h3>@drink.Name</h3>
        <p>NT$ @drink.Price</p>
    </div>
}
```
âœ¨ **é€™æ˜¯ä¼ºæœå™¨ç«¯åŸ·è¡Œçš„**ï¼Œæ•¸æ“šä¾†è‡ªå¾Œç«¯ï¼Œä¸æ˜¯å‰ç«¯ JavaScriptï¼

### 2. Controller å±¤å¾æœå‹™å–å¾—è³‡æ–™
```csharp
public class MenuController : Controller
{
    private readonly IDrinkService _drinkService;
    
    public async Task<IActionResult> Index()
    {
        var drinks = await _drinkService.GetAllDrinksAsync();
        return View(drinks);
    }
}
```
âœ¨ **Controller ä¸çŸ¥é“æ•¸æ“šä¾†è‡ªå“ªè£¡**ï¼ˆå‡è³‡æ–™æˆ–è³‡æ–™åº«ï¼‰ï¼Œå®Œç¾è§£è€¦ï¼

### 3. ä¾è³´æ³¨å…¥é…ç½®
```csharp
// Program.cs
builder.Services.AddScoped<IDrinkService, MockDrinkService>();
```
âœ¨ **åªéœ€æ”¹é€™ä¸€è¡Œ**ï¼Œå°±èƒ½åˆ‡æ›åˆ°è³‡æ–™åº«ï¼

## ğŸš€ æœªä¾†å‡ç´šåˆ°è³‡æ–™åº«ï¼ˆ3æ­¥é©Ÿï¼‰

### æ­¥é©Ÿ 1ï¼šå®‰è£ Entity Framework Core

```bash
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.Tools
```

### æ­¥é©Ÿ 2ï¼šå‰µå»º DbContext

```csharp
public class ApplicationDbContext : DbContext
{
    public DbSet<Drink> Drinks { get; set; }
    public DbSet<DrinkCategory> DrinkCategories { get; set; }
    
    public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options)
        : base(options)
    {
    }
}
```

### æ­¥é©Ÿ 3ï¼šä¿®æ”¹ Program.csï¼ˆåªæ”¹ä¸€è¡Œï¼ï¼‰

```csharp
// ä¹‹å‰ï¼ˆå‡è³‡æ–™ï¼‰
builder.Services.AddScoped<IDrinkService, MockDrinkService>();

// ä¹‹å¾Œï¼ˆè³‡æ–™åº«ï¼‰- å–æ¶ˆè¨»è§£ DatabaseDrinkService.cs
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection")));
builder.Services.AddScoped<IDrinkService, DatabaseDrinkService>();
```

âœ… **View å’Œ Controller å®Œå…¨ä¸éœ€è¦æ”¹ï¼**

## ğŸ¨ é—œæ–¼é€£çµå¯«æ³•

æ‚¨æåˆ°çš„é€™ç¨®å¯«æ³•ï¼š
```html
<li><a asp-area="" asp-controller="Menu" asp-action="Index">åº—å…§èœå–®</a></li>
```

é€™ä¹Ÿæ˜¯**ä¼ºæœå™¨ç«¯æ¸²æŸ“**çš„é€£çµï¼Œå®Œå…¨æ­£ç¢ºï¼
- `asp-controller` å’Œ `asp-action` æ˜¯ Tag Helper
- åœ¨ä¼ºæœå™¨ç«¯æœƒè¢«è½‰æ›æˆæ­£ç¢ºçš„ URL
- å®Œå…¨æ”¯æ´è³‡æ–™åº«æ¶æ§‹

## ğŸ“Š æ•¸æ“šæµç¨‹åœ–

### ç¾åœ¨ï¼ˆå‡è³‡æ–™ï¼‰
```
ç€è¦½å™¨è«‹æ±‚ /Menu
    â†“
MenuController
    â†“
MockDrinkService (å‡è³‡æ–™)
    â†“
å›å‚³ JSON/ç‰©ä»¶
    â†“
View æ¸²æŸ“æˆ HTML
    â†“
ç€è¦½å™¨é¡¯ç¤º
```

### æœªä¾†ï¼ˆè³‡æ–™åº«ï¼‰
```
ç€è¦½å™¨è«‹æ±‚ /Menu
    â†“
MenuController (ä¸ç”¨æ”¹)
    â†“
DatabaseDrinkService (åˆ‡æ›é€™è£¡)
    â†“
Entity Framework
    â†“
SQL Server è³‡æ–™åº«
    â†“
å›å‚³è³‡æ–™
    â†“
View æ¸²æŸ“æˆ HTML (ä¸ç”¨æ”¹)
    â†“
ç€è¦½å™¨é¡¯ç¤º
```

## ğŸ’¡ çµè«–

**æ‚¨çš„æ¶æ§‹å·²ç¶“å®Œç¾ï¼**

- âœ… ä½¿ç”¨ä¾è³´æ³¨å…¥
- âœ… ä»‹é¢èˆ‡å¯¦ä½œåˆ†é›¢
- âœ… Controller ä¸ä¾è³´å…·é«”å¯¦ä½œ
- âœ… View ä½¿ç”¨ä¼ºæœå™¨ç«¯æ¸²æŸ“
- âœ… æœªä¾†å‡ç´šé›¶ç—›è‹¦

åªéœ€è¦ï¼š
1. å»ºç«‹è³‡æ–™åº«
2. å¯¦ä½œ `DatabaseDrinkService`
3. ä¿®æ”¹ `Program.cs` ä¸€è¡Œä»£ç¢¼

**View å’Œ Controller å®Œå…¨ä¸éœ€è¦æ”¹å‹•ï¼**

é€™å°±æ˜¯è‰¯å¥½æ¶æ§‹è¨­è¨ˆçš„å¨åŠ›ï¼ğŸ‰


